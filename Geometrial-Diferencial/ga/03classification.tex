\subsection{Maps between sets}

A recurrent theme in mathematics is the classification of \emph{spaces} by means of structure-preserving \emph{maps} between them. 

A space is usually meant to be some set equipped with some structure, which is usually some other set. We will define each instance of space precisely when we will need them. In the case of sets considered themselves as spaces, there is no extra structure beyond the set and hence, the structure may be taken to be the empty set.

\bd
Let $A,B$ be sets. A \emph{map}\index{map} $\phi \cl A \to B$ is a relation such that for each $a \in A$ there exists exactly one $b \in B$ such that $\phi(a,b)$.
\ed
The standard notation for a map is:
\bi{rrCl}
\phi \cl & A & \to & B\\
& a & \mapsto & \phi(a)
\ei
which is technically an abuse of notation since $\phi$, being a relation of two variables, should have two arguments and produce a truth value. However, once we agree that for each $a\in A$ there exists exactly one $b\in B$ such that $\phi(a,b)$ is true, then for each $a$ we can define $\phi(a)$ to be precisely that unique $b$. It is sometimes useful to keep in mind that $\phi$ is actually a relation.

\be
Let $M$ be a set. The simplest example of a map is the \emph{identity map} on $M$:
\bi{rrCl}
\id_M \cl & M & \to & M\\
& m & \mapsto & m.
\ei
\ee

The following is standard terminology for a map $\phi \cl A \to B$:
\bit
\item the set $A$ is called the \emph{domain}\index{domain} of $\phi$;
\item the set $B$ is called the \emph{target}\index{target} of $\phi$;
\item the set $\phi(A) \equiv \img_\phi(A) := \{\phi(a) \mid a \in A\}$ is called the \emph{image}\index{image} of $A$ under $\phi$.
\eit
\bd
A \emph{map} $\phi \cl A \to B$ is said to be:
\bit
\item \emph{injective} if $\ \forall \, a_1,a_2 \in A : \phi(a_1)=\phi(a_2) \imp a_1 = a_2$;
\item \emph{surjective} if $\img_\phi(A) = B$;
\item \emph{bijective} if it is both injective and surjective.
\eit
\ed

\bd
Two sets $A$ and $B$ are called \emph{(set-theoretic) isomorphic}\index{isomorphism!of sets} if there exists a bijection $\phi \cl A \to B$. In this case, we write $A \iset B$.
\ed

\br
If there is any bijection $A \to B$ then generally there are many.
\er

Bijections are the ``structure-preserving'' maps for sets. Intuitively, they pair up the elements of $A$ and $B$ and a bijection between $A$ and $B$ exists only if $A$ and $B$ have the same ``size''. This is clear for finite sets, but it can also be extended to infinite sets.\\

\bd[Classification of sets]
A set $A$ is:
\bit
\item \emph{infinite}\index{set!infinite} if there exists a proper subset $B\ss A$ such that $B \iset A$. In particular, if $A$ is infinite, we further define $A$ to be:
\bit
\item[$*$] \emph{countably} infinite if $A \iset \N$;
\item[$*$] \emph{uncountably} infinite otherwise.
\eit
\item \emph{finite} if it is not infinite. In this case, we have $A \iset \{1,2,\ldots,N\}$ for some $N \in \N$ and we say that the \emph{cardinality} of $A$, denoted by $|A|$, is $N$.
\eit
\ed
Given two maps $\phi \cl A \to B$ and $\psi \cl B \to C$, we can construct a third map, called the \emph{composition} of $\phi$ and $\psi$, denoted by $\psi \circ \phi$ (read ``psi after phi''), defined by:
\bi{rcCl}
\psi \circ \phi \cl & A & \to & C\\
& a & \mapsto & \psi(\phi(a)).
\ei
This is often represented by drawing the following diagram
\bse
\begin{tikzcd}
 &B \ar[dr,"\psi"]& \\
A \ar[ur,"\phi"] \ar[rr, "\psi\circ\phi"'] & & C
\end{tikzcd}
\ese
and by saying that ``the diagram commutes'' (although sometimes this is assumed even if it is not explicitly stated). What this means is that every path in the diagram gives the same result. This might seem notational overkill at this point, but later we will encounter situations where we will have many maps, going from many places to many other places and these diagrams greatly simplify the exposition. 

\bp
Composition of maps is associative.
\ep

\bq
Indeed, let $\phi \cl A \to B$, $\psi \cl B \to C$ and $\xi \cl C \to D$ be maps. Then we have:
\bi{rcCl}
\xi \circ (\psi\circ\phi) \cl & A & \to & D\\
& a & \mapsto & \xi(\psi(\phi(a)))
\ei
and:
\bi{rcCl}
(\xi \circ\psi)\circ\phi \cl & A & \to & D\\
& a & \mapsto & \xi(\psi(\phi(a))).
\ei
Thus $\xi \circ (\psi\circ\phi) = (\xi \circ\psi)\circ\phi $.
\eq

The operation of composition is necessary in order to defined inverses of maps.

\bd
Let $\phi \cl A \to B$ be a bijection. Then the \emph{inverse} of $\phi$, denoted $\phi^{-1}$, is defined (uniquely) by:
\bse
\phi^{-1}\circ\phi = \id_A
\ese
\bse
\phi\circ\phi^{-1} = \id_B.
\ese
\ed
Equivalently, we require the following diagram to commute:
\bse
\begin{tikzcd}
A \ar[loop left, "\id_A"] \ar[rr, bend left,"\phi"] & & B \ar[loop right, "\id_B"] \ar[ll, bend left,"\phi^{-1}"]
\end{tikzcd}
\ese
The inverse map is only defined for bijections. However, the following notion, which we will often meet in topology, is defined for any map.

\bd
Let $\phi \cl A \to B$ be a map and let $V\se B$. Then we define the set:
\bse
\mathrm{preim}_\phi(V) := \{a \in A \mid \phi(a) \in V\}
\ese
called the \emph{pre-image} of $V$ under $\phi$.
\ed

\bp
Let $\phi \cl A \to B$ be a map, let $U,V \se B$ and $C=\{C_j \mid j \in J\} \se \cP(B)$. Then:
\ben
\item[i)] $\mathrm{preim}_\phi(\vn)=\vn$ and $\mathrm{preim}_\phi(B)=A$;
\item[ii)] $\mathrm{preim}_\phi(U\sm V)=\mathrm{preim}_\phi(U)\sm \mathrm{preim}_\phi(V)$;
\item[iii)] $\mathrm{preim}_\phi(\bigcup C)=\bigcup_{j \in J} \mathrm{preim}_\phi(C_j)$
 and $\mathrm{preim}_\phi(\bigcap C)=\bigcap_{j \in J} \mathrm{preim}_\phi(C_j)$.
 \een
\ep


\bq
\ben
\item[i)] By definition, we have:
\bse
\mathrm{preim}_\phi(B) = \{a\in A : \phi(a) \in B\} = A
\ese
and:
\bse
\mathrm{preim}_\phi(\vn) = \{a\in A : \phi(a) \in \vn\} = \vn.
\ese
\item[ii)] We have:
\bi{rCl}
a \in \mathrm{preim}_\phi(U\sm V ) & \eqv & \phi(a) \in U \sm V \\
& \eqv & \phi(a) \in U  \land \, \phi(a) \, \notin V \\
& \eqv & a \in \mathrm{preim}_\phi(U) \, \land \, a \notin \mathrm{preim}_\phi(V) \\
& \eqv & a \in \mathrm{preim}_\phi(U ) \sm \mathrm{preim}_\phi(V )
\ei
\item[iii)] We have:
\bi{rCl}
a \in \mathrm{preim}_\phi(\textstyle \bigcup C ) & \eqv & \phi(a) \in \textstyle \bigcup C \\
& \eqv & \textstyle \bigvee_{j\in J} (\phi(a) \in C_j) \\
& \eqv & \textstyle \bigvee_{j\in J} (a \in \mathrm{preim}_\phi(C_j)) \\
& \eqv & a \in \textstyle \bigcup_{j\in J}\mathrm{preim}_\phi(C_j)
\ei
Similarly, we get $\mathrm{preim}_\phi( \bigcap C ) = \bigcap_{j\in J}\mathrm{preim}_\phi(C_j)$. \qedhere
\een
\eq


\subsection{Equivalence relations}

\bd
Let $M$ be a set and let $\sim$ be a relation such that the following conditions are satisfied:
\ben
\item[i)] reflexivity: $\forall \, m \in M: m \sim m;$
\item[ii)] symmetry: $\forall \, m,n \in M: m \sim n \eqv n \sim n;$
\item[iii)] transitivity: $\forall \, m,n,p \in M: (m \sim n \land n \sim p) \imp m \sim p.$
\een
Then $\sim$ is called an \emph{equivalence relation}\index{equivalence relation}\index{relation!equivalence} on $M$.
\ed

\be
Consider the following wordy examples.
\ben[label=\alph*)]
\item $p\sim q :\Leftrightarrow $ $p$ is of the same opinion as $q$. This relation is reflexive, symmetric and transitive. Hence, it is an equivalence relation.
\item $p\sim q :\Leftrightarrow $ $p$ is a sibling of $q$. This relation is symmetric and transitive but not reflexive and hence, it is not an equivalence relation.
\item $p\sim q :\Leftrightarrow $ $p$ is taller $q$. This relation is transitive, but neither reflexive nor symmetric and hence, it is not an equivalence relation.
\item $p\sim q :\Leftrightarrow $ $p$ is in love with $q$. This relation is generally not reflexive. People don't like themselves very much. It is certainly not normally symmetric, which is the basis of much drama in literature. It is also not transitive, except in some French films.
\een
\ee

\bd
Let $\sim$ be an equivalence relation on the set $M$. Then, for any $m \in M$, we define the set:
\bse
[m] := \{n \in M \mid m \sim n\}
\ese
called the \emph{equivalence class} of $m$. Note that the condition $m \sim n$ is equivalent to $n \sim m$ since $\sim$ is symmetric.
\ed
The following are two key properties of equivalence classes.
\bp
Let $\sim$ be an equivalence relation on $M$. Then:
\ben
\item[i)] $a \in [m] \imp [a]=[m]$;
\item[ii)] either $[m]=[n]$ or $[m] \cap [n] = \vn$.
\een
\ep

\bq
\ben
\item[i)] Since $a\in[m]$, we have $a\sim m$. Let $x \in [a]$. Then $x \sim a$ and hence $x \sim m$ by transitivity. Therefore $x \in [m]$ and hence $[a]\se[m]$. Similarly, we have $[m]\se[a]$ and hence $[a]=[m]$.
\item[ii)] Suppose that $[m]\cap[n]\neq\vn$. That is:
\bse
\exists \, z : z \in [m] \land z \in [n].
\ese
Thus $z \sim m$ and $z \sim n$ and hence, by symmetry and transitivity, $m \sim n$. This implies that $m \in [n]$ and hence that $[m] = [n]$. \qedhere
\een
\eq
\bd
Let $\sim$ be an equivalence relation on $M$. Then we define the \emph{quotient set} of $M$ by $\sim$ as:
\bse
M/\!\sim\ := \{[m]\mid m \in M\}.
\ese
This is indeed a set since $[m]\se\cP(M)$ and hence we can write more precisely:
\bse
M/\!\sim\ := \{[m]\in\cP(M)\mid m \in M\}.
\ese
Then clearly $M/\!\sim$ is a set by the power set axiom and the principle of restricted comprehension.
\ed
\br
Due to the axiom of choice, there exists a complete system of representatives for $\sim$, i.e.\ a set $R$ such that $R \iset M/\!\sim$.
\er

\br
Care must be taken when defining maps whose domain is a quotient set if one uses representatives to define the map. In order for the map to be \emph{well-defined} one needs to show that the map is independent of the choice of representatives. 
\er

\be
Let $M = \Z$ and define $\sim$ by:
\bse
m\sim n :\eqv n-m \in 2\Z .
\ese
It is easy to check that $\sim$ is indeed an equivalence relation. Moreover, we have:
\bse
[0] = [2] = [4] = \cdots = [-2] = [-4] = \cdots 
\ese
and:
\bse
[1] = [3] = [5] = \cdots = [-1] = [-3] = \cdots 
\ese
Thus we have: $\Z/\!\sim\ = \{[0],[1]\}$. We wish to define an addition $\oplus$ on $\Z/\!\sim$ by inheriting the usual addition on $\Z$. As a tentative definition we could have:
\bse
\oplus \cl \Z/\!\sim \times \ \Z/\!\sim\  \to  \Z/\!\sim
\ese
being given by:
\bse
[a]\oplus[b]  :=  [a+b].
\ese
However, we need to check that our definition does not depend on the choice of class representatives, i.e.\ if $[a]=[a']$ and $[b]=[b']$, then we should have:
\bse
[a]\oplus[b]=[a']\oplus[b'].
\ese
Indeed, $[a]=[a']$ and $[b]=[b']$ means $a-a'\in 2\Z$ and $b-b'\in 2\Z$, i.e. $a-a'=2m$ and $b-b'=2n$ for some $m,n \in \Z$. We thus have:
\bi{rCl}
[a'+b'] & = & [a-2m+b-2n] \\
& = & [(a+b)-2(m+n)]\\
& = & [a+b],
\ei
where the last equality follows since:
\bse
(a+b)-2(m+n) -(a+b) = -2(m+n) \in 2\Z.
\ese
Therefore $[a']\oplus[b']  =  [a]\oplus[b] $ and hence the operation $\oplus$ is well-defined.
\ee

\be
As a counterexample, with the same set-up as in the previous example, let us define an operation $\star$ by:
\bse
[a]\star[b] := \frac{a}{b}.
\ese
This is easily seen to be \emph{ill-defined} since $[1]=[3]$ and $[2]=[4]$ but:
\bse
[1]\star[2]=\frac{1}{2}\neq\frac{3}{4} = [3]\star[4].
\ese
\ee


\subsection[\texorpdfstring{Construction of $\N$, $\Z$, $\Q$ and $\R$}{Construction of N, Z, Q and R}]{Construction of $\N$, $\Z$, $\Q$ and $\R$}

Recall that, invoking the axiom of infinity, we defined:
\bse
\N\index{$\N$} := \{0,1,2,3,\ldots\},
\ese
where:
\bse
0 :=\vn , \quad 1  := \{\vn\},\quad 2:= \{\{\vn\}\}, \quad 3 := \{\{\{\vn\}\}\} , \quad \ldots
\ese
We would now like to define an addition operation on $\N$ by using the axioms of set theory. We will need some preliminary definitions.

\bd
The \emph{successor map} $S$ on $\N$ is defined by:
\bi{rcCl}
S \cl & \N & \to & \N\\
& n & \mapsto & \{n\}.
\ei
\ed

\be
Consider $S(2)$. Since $2 := \{\{\vn\}\}$, we have $S(2) = \{\{\{\vn\}\}\}=:3$. Therefore, we have $S(2)=3$ as we would have expected.
\ee

To make progress, we also need to define the predecessor map, which is only defined on the set $\N^*:=\N\sm\{\vn\}$.

\bd
The \emph{predecessor map} $P$ on $\N^*$ is defined by:
\bi{rcCl}
P \cl & \N^* & \to & \N\\
& n & \mapsto & m \ \t{ such that }\ m \in n.
\ei
\ed

\be
We have $P(2) = P(\{\{\vn\}\})=\{\vn\}=1$.
\ee

\bd
Let $n \in \N$. The \emph{$n$-th power} of $S$, denoted $S^n$, is defined recursively by:
\bi{ll}
S^n := S \circ S^{P(n)} &\qquad \t{if } n \in \N^*\\ 
S^0 := \id_\N .
\ei
\ed

We are now ready to define addition.

\bd
The \emph{addition} operation on $\N$ is defined as a map:
\bi{rcCl}
+ \cl & \N \times \N & \to & \N\\
& (m,n) & \mapsto & m +n:= S^n(m).
\ei
\ed

\be
We have:
\bse
2+1=S^1(2)=S(2)=3
\ese
and:
\bse
1+2=S^2(1)=S(S^1(1))=S(S(1))=S(2)=3.
\ese
\ee

Using this definition, it is possible to show that $+$ is commutative and associative. The \emph{neutral element} of $+$ is $0$ since:
\bse
m+0=S^0(m)=\id_\N(m)=m
\ese
and:
\bse
0+m=S^m(0)=S^{P(m)}(1)=S^{P(P(m))}(2) = \cdots = S^0(m) = m.
\ese
Clearly, there exist no inverses for $+$ in $\N$, i.e.\ given $m \in \N$ (non-zero), there exist no $n \in \N$ such that $m+n=0$. This motivates the extension of the natural numbers to the integers. In order to rigorously define $\Z$, we need to define the following relation on $\N\times \N$.

\bd
Let $\sim$ be the relation on $\N\times \N$ defined by:
\bse
(m,n) \sim (p,q) :\eqv m+q = p+n.
\ese
\ed

It is easy to check that this is an equivalence relation as:
\ben
\item[i)] $(m,n) \sim(m,n)$ since $m+n=m+n$;
\item[ii)] $(m,n) \sim(p,q) \imp (p,q)\sim(m,n)$ since $m+q=p+n\eqv p+n=m+q$;
\item[iii)] $((m,n) \sim(p,q) \land (p,q)\sim(r,s)) \imp (m,n) \sim(r,s)$ since we have:
\bse
m+q=p+n \land p+s=r+q,
\ese
hence $m+q+p+s=p+n+r+q$, and thus $m+s=r+n$. 
\een

\bd
We define the set of \emph{integers} by:
\bse
\Z\index{$\Z$}:=(\N\times\N)/\!\sim.
\ese
\ed

The intuition behind this definition is that the pair $(m,n)$ stands for ``$m-n$''. In other words, we represent each integer by a pair of natural numbers whose (yet to be defined) difference is precisely that integer. There are, of course, many ways to represent the same integer with a pair of natural numbers in this way. For instance, the integer $-1$ could be represented by $(1,2)$, $(2,3)$, $(112,113)$, \ldots

Notice however that $(1,2)\sim(2,3)$, $(1,2)\sim(112,113)$, etc. and indeed, taking the quotient by $\sim$ takes care of this ``redundancy''. Notice also that this definition relies entirely on previously defined entities.

\br
In a first introduction to set theory it is not unlikely to find the claim that the natural numbers are part of the integers, i.e.\ $\N \se \Z$. However, according to our definition, this is obviously nonsense since $\N$ and $\Z:=(\N\times\N)/\!\sim$ contain entirely different elements. What is true is that $\N$ can be \emph{embedded} into $\Z$, i.e.\ there exists an \emph{inclusion map} $\iota$, given by:
\bi{rcCl}
\iota \cl & \N & \hookrightarrow & \Z\\
& n & \mapsto & [(n,0)]
\ei
and it is in this sense that $\N$ is included in $\Z$.
\er

\bd
Let $n := [(n,0)] \in \Z$. Then we define the \emph{inverse} of $n$ to be $-n:=[(0,n)]$. 
\ed

We would now like to inherit the $+$ operation from $\N$.

\bd
We define the \emph{addition of integers} $+_\Z\cl\Z\times\Z\to\Z$ by:
\bse
[(m,n)] +_\Z [(p,q)] := [(m+p,n+q)].
\ese
\ed

Since we used representatives to define $+_\Z$, we would need to check that $+_\Z$ is well-defined. It is an easy exercise.

\be
$2+_\Z(-3):=[(2,0)]+_\Z[(0,3)]=[(2,3)]=[(0,1)]=:-1$. Hallelujah!
\ee

In a similar fashion, we define the set of \emph{rational numbers} by:
\bse
\Q\index{$\Q$} := (\Z\times\Z^*)/\!\sim,
\ese
where $\Z^*:=\Z\sm\{0\}$ and $\sim$ is a relation on $\Z\times\Z^*$ given by:
\bse
(p,q)\sim(r,s) :\eqv ps = qr,
\ese
assuming that a \emph{multiplication} operation on the integers has already been defined.

\be
We have $(2,3) \sim (4,6)$ since $2\times 6 = 12 = 3\times 4$.
\ee

Similarly to what we did for the integers, here we are representing each rational number by the collection of pairs of integers (the second one in each pair being non-zero) such that their (yet to be defined) ratio is precisely that rational number. Thus, for example, we have:
\bse
\frac{2}{3} := [(2,3)] = [(4,6)] = \ldots
\ese
We also have the \emph{canonical embedding} of $\Z$ into $\Q$:
\bi{rcCl}
\iota \cl & \Z & \hookrightarrow & \Q\\
& p & \mapsto & [(p,1)]
\ei

\bd
We define the \emph{addition of rational numbers} $+_\Q\cl\Q\times\Q\to\Q$ by:
\bse
[(p,q)] +_\Q [(r,s)] := [(ps+rq,qs)]
\ese
and \emph{multiplication of rational numbers} by:
\bse
[(p,q)] \cdot_\Q [(r,s)] := [(pr,qs)],
\ese
where the operations of addition and multiplication that appear on the right hand sides are the ones defined on $\Z$. It is again necessary (but easy) to check that these operations are both well-defined.
\ed

There are many ways to construct the reals from the rationals. One is to define a set $\mathscr{A}$ of \emph{almost homomorphisms} on $\Z$ and hence define:
\bse
\R\index{$\R$} := \mathscr{A}/\!\sim,
\ese
where $\sim$ is a ``suitable'' equivalence relation on $\mathscr{A}$.



